2&emsp;About the Remote PC
=====

The remote PC connects to your robot, and acts as an interface for one to control their robot. 

The integrated development environment, Visual Studio Code (VSCode), will be used to interface with the turtlebots.

# 1&emsp;Connecting the PC and Robot via a New IP Address
1. Obtain the IP address of the robot.
2. Connect the PC to the same Wi-Fi as the robot.
3. Start VSCode on the PC if not already.
4. In VSCode (requires Remote Development extension; already installed for workshop), open the Command Palette with `CTRL+SHIFT+P`.
5. Type and select `Remote-SSH: Connect to Host...`
6. Select `+ Add New SSH Host...`
7. Type in the robot's username and IP address in the following format. If the robot's username is `ece83` and the IP address is `192.168.1.255`, then the command is:
    ```
    ece83@192.168.1.255
    ```
    Press `ENTER`.
    
8. If prompted to update the SSH configuration file, select the one with the `/home` directory. For example, `/home/pc_user/.ssh/config`.

9. A dialog will show on the bottom right. Click `Connect`. 
    - **If `Connect` cannot be selected, or if it does not show up**,
        1. Pull up the command palette with `CTRL+SHIFT+P`.
        2. Type and select `Remote-SSH: Connect to Host...`, 
        3. Select the IP address of the robot that was just added.

10. A new VSCode window should open. Check if there are any errors.
    - If a dialog box at the top of the window states that there is a new finger print, select `Continue`.
    - If a dialog box at the top of the window requests for the password, simply key in the password.
    - If the **connection cannot be established**, and that there is *no route to host*, 
        1. Check the IP address.
        2. Check the robot user name.
        3. Check that both the PC and robot are connected to the same Wi-Fi. 
        4. Try again from step 5.
    - If the **connection cannot be established**, and that the *remote host key has changed*,
        1. Close the new VSCode window. 
        2. Open a terminal on the PC with `CTRL+ALT+T`.
        3. Suppose the IP address of the robot is `192.168.1.255`. On the terminal, replace the IP address in the following command and run it:
            ```bash
                ssh-keygen -f $HOME/.ssh/known_hosts -R '192.168.1.255'
            ```
        4. Try again from step 5.

# 2&emsp;Connecting the PC and Robot over an existing IP address
    
1. Connect the PC to the same Wi-Fi as the robot.
2. Start VSCode on the PC if not already.
3. In VSCode (requires Remote Development extension; already installed for workshop), open the Command Palette with `CTRL+SHIFT+P`.
4. Type and select `Remote-SSH: Connect to Host...`
5. Select the IP address of the robot.
6. A new VSCode window should open. If there are problems connecting, see the last part of the previous section.

# 3&emsp;Open the `tb3_yolo` Directory on the Robot

1. Ensure that the VSCode is already connected to the robot. Wait for any installations to complete.
2. Press `CTRL+SHIFT+E` to open the explorer pane. If the Explorer is already in the `tb3_yolo` folder (all CAPS at the top), then skip the following instructions. Otherwise, 
2. Press `CTRL+K` and then `CTRL+O` to open a folder, or simply click `Open Folder` if it can be seen on the explorer pane.
3. Type the directory path `/home/ece83/tb3_yolo` by replacing `ece83` with your robot's username.
4. Press `ENTER` twice to open the directory.

# 4&emsp;Clone a GitHub Repo

**DO THIS ONLY AT THE START OF THE WORKSHOP**. Any changes made by you will be **overwritten**!

1. Ensure that the VSCode is already connected to the robot. Wait for any installations to complete.
2. Press `` CTRL+` `` to open a new VSCode terminal. Once ready, run the following to get the most updated files for the robot:
    ```bash
    cd ~
    rm -rf ~/tb3_yolo
    git clone https://github.com/laiyankai/tb3_yolo
    cd ~/tb3_yolo
    chmod +x *.sh
    colcon build --symlink-install
    ```
